(()=>{var t={n:o=>{var a=o&&o.__esModule?()=>o.default:()=>o;return t.d(a,{a}),a},d:(o,a)=>{for(var e in a)t.o(a,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:a[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o);const a=flarum.core.compat["common/extend"],e=flarum.core.compat["common/utils/extractText"];var n=t.n(e);const r=flarum.core.compat["common/components/Button"];var i=t.n(r);const c=((flarum.extensions["flamarkt-core"]||{}).backoffice||{})["pages/ProductShowPage"];var s=t.n(c);app.initializers.add("flamarkt-stock-notifications",(function(){app.extensionData.for("flamarkt-stock-notifications").registerPermission({icon:"fas fa-bell",label:app.translator.trans("flamarkt-stock-notifications.backoffice.permissions.subscribe"),permission:"flamarkt-stock-notifications.subscribe"},"view"),(0,a.extend)(s().prototype,"fields",(function(t){var o=this;t.add("stock-notifications",m(".Form-group",i().component({className:"Button",icon:"fas fa-bell",onclick:function(){confirm(n()(app.translator.trans("flamarkt-stock-notifications.backoffice.action.confirmNotify",{count:o.product.attribute("stockNotificationRequestCount")})))&&app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/flamarkt/products/"+o.product.id()+"/stock-notifications"}).then((function(){alert("Done")}))}},app.translator.trans("flamarkt-stock-notifications.backoffice.action.notify"))),-10)}))}))})(),module.exports=o})();
//# sourceMappingURL=backoffice.js.map